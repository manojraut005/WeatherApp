(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const m=document.querySelector("[data-userWeather]"),C=document.querySelector("[data-searchWeather]");document.querySelector(".weather-container");const u=document.querySelector(".grant-location-container"),l=document.querySelector("[data-searchForm]"),i=document.querySelector(".loading-container"),d=document.querySelector(".user-info-container"),v=document.querySelector(".city-not-found-container"),N=document.querySelector(".network-error-container");let a=m;const T="d1845658f92b31c64bd94f06f7188c9c";a.classList.add("current-tab");x();function O(e){e!=a&&(a.classList.remove("current-tab"),a=e,a.classList.add("current-tab"),l.classList.contains("active")?(l.classList.remove("active"),d.classList.remove("active"),x()):(d.classList.remove("active"),u.classList.remove("active"),l.classList.add("active")))}m.addEventListener("click",()=>{O(m)});C.addEventListener("click",()=>{O(C)});function x(){const e=sessionStorage.getItem("user-coordinates");if(!e)u.classList.add("active");else{const c=JSON.parse(e);E(c)}}async function E(e){const{lat:c,lon:o}=e;u.classList.remove("active"),i.classList.add("active");try{const t=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${c}&lon=${o}&appid=${T}&units=metric`)).json();i.classList.remove("active"),v.classList.remove("active"),N.classList.remove("active"),d.classList.add("active"),P(t)}catch{i.classList.remove("active"),N.classList.add("active")}}function P(e){var p,y,L,g,S,q,f,b,$;const c=document.querySelector("[data-cityName]"),o=document.querySelector("[data-countryIcon]"),r=document.querySelector("[data-weatherDesc]"),t=document.querySelector("[data-weatherIcon]"),s=document.querySelector("[data-temp]"),n=document.querySelector("[data-windspeed]"),h=document.querySelector("[data-humidity]"),A=document.querySelector("[data-cloudiness]");console.log(e),c.innerText=e==null?void 0:e.name,o.src=`https://flagcdn.com/144x108/${(p=e==null?void 0:e.sys)==null?void 0:p.country.toLowerCase()}.png`,r.innerText=(L=(y=e==null?void 0:e.weather)==null?void 0:y[0])==null?void 0:L.description,t.src=`http://openweathermap.org/img/w/${(S=(g=e==null?void 0:e.weather)==null?void 0:g[0])==null?void 0:S.icon}.png`,s.innerText=`${(q=e==null?void 0:e.main)==null?void 0:q.temp} Â°C`,n.innerText=`${(f=e==null?void 0:e.wind)==null?void 0:f.speed} m/s`,h.innerText=`${(b=e==null?void 0:e.main)==null?void 0:b.humidity}%`,A.innerText=`${($=e==null?void 0:e.clouds)==null?void 0:$.all}%`}function W(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(F)}function F(e){const c={lat:e.coords.latitude,lon:e.coords.longitude};sessionStorage.setItem("user-coordinates",JSON.stringify(c)),E(c)}const j=document.querySelector("[data-grantAccess]");j.addEventListener("click",W);const D=document.querySelector("[data-searchInput]");l.addEventListener("submit",e=>{e.preventDefault();let c=D.value;c!==""&&J(c)});async function J(e){i.classList.add("active"),d.classList.remove("active"),u.classList.remove("active");try{const o=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${T}&units=metric`)).json();o.name!==void 0?(i.classList.remove("active"),v.classList.remove("active"),N.classList.remove("active"),d.classList.add("active"),P(o)):(i.classList.remove("active"),v.classList.add("active"))}catch{i.classList.remove("active"),N.classList.add("active")}}
